<!DOCTYPE html>
{% extends 'studentbase.html' %}
{% load static %}
<html lang="en">
    {% block title %}
    <h4 class="page-title">Student Calendar</h4>
    {% endblock %}
    {% block content %}
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>FullCalendar | Azzara Bootstrap Dashboard</title>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
	<link rel="icon" href="{% static '/assets/img/icon.ico' %}" type="image/x-icon"/>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- Fonts and icons
	<script src="../../assets/js/plugin/webfont/webfont.min.js"></script>
	<script>
		WebFont.load({
			google: {"families":["Open+Sans:300,400,600,700"]},
			custom: {"families":["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands"], urls: ['../../assets/css/fonts.css']},
			active: function() {
				sessionStorage.fonts = true;
			}
		});
	</script>

	<link rel="stylesheet" href="{% static '/assets/css/bootstrap.min.css' %}">
	<link rel="stylesheet" href="{% static '/assets/css/azzara.min.css' %}">
    -->
	<link href="{% static '/assets/styles.css' %}" rel="stylesheet" />
	<link href="{% static '/assets/prism.css' %}" rel="stylesheet" />
</head>
<body>
    <div id="calendar"></div>
    <script type="text/javascript" src="{% static '//themera.net/embed/themera.js?id=71769' %}"></script>
</body>
<script src="{% static '/assets/js/core/jquery.3.2.1.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js' %}"></script>
<script src="{% static '/assets/js/core/popper.min.js' %}"></script>
<script src="{% static '/assets/js/core/bootstrap.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/chart.js/chart.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/bootstrap-toggle/bootstrap-toggle.min.js' %}"></script>
<script type="text/javascript" src="{% static '/assets/js/plugin/jqvmap/jquery.vmap.min.js' %}"></script>
<script type="text/javascript" src="{% static '/assets/js/plugin/jqvmap/maps/jquery.vmap.world.js' %}" charset="utf-8"></script>
<script src="{% static '/assets/js/plugin/chart-circle/circles.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/sweetalert/sweetalert.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/moment/moment.min.js' %}"></script>
<script src="{% static '/assets/js/plugin/fullcalendar/fullcalendar.min.js' %}"></script>
<script src="{% static '/assets/js/ready.js' %}"></script>
<script src="{% static '/assets/prism.js' %}"></script>
<script src="{% static '/assets/prism-normalize-whitespace.min.js' %}"></script>
<script type="text/javascript">
	// Optional
	Prism.plugins.NormalizeWhitespace.setDefaults({
		'remove-trailing': true,
		'remove-indent': true,
		'left-trim': true,
		'right-trim': true,
	});

	// handle links with @href started with '#' only
	$(document).on('click', 'a[href^="#"]', function(e) {
		// target element id
		var id = $(this).attr('href');

		// target element
		var $id = $(id);
		if ($id.length === 0) {
			return;
		}

		// prevent standard hash navigation (avoid blinking in IE)
		e.preventDefault();

		// top position relative to the document
		var pos = $id.offset().top - 80;

		// animated top scrolling
		$('body, html').animate({scrollTop: pos});
	});
</script>
<script>
	/* initialize the calendar
	-----------------------------------------------------------------*/

	var date = new Date();
	var d = date.getDate();
	var m = date.getMonth();
	var y = date.getFullYear();
	var className = Array('fc-primary', 'fc-danger', 'fc-default', 'fc-success', 'fc-info', 'fc-warning', 'fc-danger-solid', 'fc-warning-solid', 'fc-success-solid', 'fc-default-solid', 'fc-success-solid', 'fc-primary-solid');

	$calendar = $('#calendar');
	$calendar.fullCalendar({
		header: {
			left: 'prev, next, today',
			center: 'title',
			right: 'month, agendaWeek, agendaDay, listWeek'
		},
		selectable : true,
		selectHelper: true,
		select: function(start, end) {

			// on select we show the Sweet Alert modal with an input
			swal({
				title: 'Create an Event',
				html: '<br><input class="form-control" placeholder="Event Title" id="input-field">',
				content: {
					element: "input",
					attributes: {
						placeholder: "Event Title",
						type: "text",
						id: "input-field",
						className: "form-control"
					},
				},
				buttons: {
					cancel: true,
					confirm: true,
				},
			}).then(
			function() {
				var eventData;
				var classRandom = className[Math.floor(Math.random()*className.length)];
				event_title = $('#input-field').val();

				if (event_title) {
					eventData = {
						title: event_title,
						start: start,
						className: classRandom,
						end: end
					};
					$calendar.fullCalendar('renderEvent', eventData, true); // stick? = true
				}

				$calendar.fullCalendar('unselect');
			}
			);
		},



	});
</script>
 {% endblock %}
</html>
